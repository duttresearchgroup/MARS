\hypertarget{heartbeat-shared_8c}{
\section{src/heartbeat-shared.c File Reference}
\label{heartbeat-shared_8c}\index{src/heartbeat-shared.c@{src/heartbeat-shared.c}}
}
{\tt \#include \char`\"{}heartbeat.h\char`\"{}}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$string.h$>$}\par
\subsection*{Functions}
\begin{CompactItemize}
\item 
int \hyperlink{heartbeat-shared_8c_b0215f451a25327778cf2469bbf17808}{heartbeat\_\-init} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} $\ast$hb, double min\_\-target, double max\_\-target, int64\_\-t window\_\-size, int64\_\-t buffer\_\-depth, char $\ast$log\_\-name)
\begin{CompactList}\small\item\em Initialization function for process that wants to register heartbeats. \item\end{CompactList}\item 
void \hyperlink{heartbeat-shared_8c_472683cf2037492695c74b37944efca9}{heartbeat\_\-finish} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} $\ast$hb)
\begin{CompactList}\small\item\em Cleanup function for process that wants to register heartbeats. \item\end{CompactList}\item 
void \hyperlink{heartbeat-shared_8c_75042acfdcb08a614964eab511fe6299}{hb\_\-get\_\-current} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb, \hyperlink{structheartbeat__record__t}{heartbeat\_\-record\_\-t} volatile $\ast$record)
\begin{CompactList}\small\item\em Returns the record for the current heartbeat currently may read old data. \item\end{CompactList}\item 
int \hyperlink{heartbeat-shared_8c_d75f7029162a84476c6e7411f59f86f2}{hb\_\-get\_\-history} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb, \hyperlink{structheartbeat__record__t}{heartbeat\_\-record\_\-t} volatile $\ast$record, int n)
\begin{CompactList}\small\item\em Returns all heartbeat information for the last n heartbeats. \item\end{CompactList}\item 
double \hyperlink{heartbeat-shared_8c_55b60b6aa61bbb71ee099f2e7180540e}{hb\_\-get\_\-global\_\-rate} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb)
\begin{CompactList}\small\item\em Returns the heart rate over the life of the entire application. \item\end{CompactList}\item 
double \hyperlink{heartbeat-shared_8c_7afb09ea470be506247e69e874127be3}{hb\_\-get\_\-windowed\_\-rate} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb)
\begin{CompactList}\small\item\em Returns the heart rate over the last window (as specified to init) heartbeats. \item\end{CompactList}\item 
double \hyperlink{heartbeat-shared_8c_96fa03d16ef34067e63860cea57b71db}{hb\_\-get\_\-min\_\-rate} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb)
\begin{CompactList}\small\item\em Returns the minimum desired heart rate. \item\end{CompactList}\item 
double \hyperlink{heartbeat-shared_8c_566d7911466aa84b09b1cb5c16fd1bb0}{hb\_\-get\_\-max\_\-rate} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb)
\begin{CompactList}\small\item\em Returns the maximum desired heart rate. \item\end{CompactList}\item 
int64\_\-t \hyperlink{heartbeat-shared_8c_1e6ea5f3c95dd936082274969dba0ee8}{hb\_\-get\_\-window\_\-size} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} volatile $\ast$hb)
\begin{CompactList}\small\item\em Returns the size of the sliding window used to compute the current heart rate. \item\end{CompactList}\item 
int64\_\-t \hyperlink{heartbeat-shared_8c_83cee6dbfb8365b1595ef200f45fe6fc}{heartbeat} (\hyperlink{structheartbeat__t}{heartbeat\_\-t} $\ast$hb, int tag)
\begin{CompactList}\small\item\em Registers a heartbeat. \item\end{CompactList}\end{CompactItemize}


\subsection{Function Documentation}
\hypertarget{heartbeat-shared_8c_75042acfdcb08a614964eab511fe6299}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-current@{hb\_\-get\_\-current}}
\index{hb\_\-get\_\-current@{hb\_\-get\_\-current}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-current]{\setlength{\rightskip}{0pt plus 5cm}void hb\_\-get\_\-current ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb}, \/  {\bf heartbeat\_\-record\_\-t} volatile $\ast$ {\em record})}}
\label{heartbeat-shared_8c_75042acfdcb08a614964eab511fe6299}


Returns the record for the current heartbeat currently may read old data. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[See also:]\end{Desc}
\begin{Desc}
\item[Returns:]\end{Desc}
\hypertarget{heartbeat-shared_8c_55b60b6aa61bbb71ee099f2e7180540e}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-global\_\-rate@{hb\_\-get\_\-global\_\-rate}}
\index{hb\_\-get\_\-global\_\-rate@{hb\_\-get\_\-global\_\-rate}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-global\_\-rate]{\setlength{\rightskip}{0pt plus 5cm}double hb\_\-get\_\-global\_\-rate ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_55b60b6aa61bbb71ee099f2e7180540e}


Returns the heart rate over the life of the entire application. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the heart rate (double) over the entire life of the application \end{Desc}
\hypertarget{heartbeat-shared_8c_d75f7029162a84476c6e7411f59f86f2}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-history@{hb\_\-get\_\-history}}
\index{hb\_\-get\_\-history@{hb\_\-get\_\-history}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-history]{\setlength{\rightskip}{0pt plus 5cm}int hb\_\-get\_\-history ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb}, \/  {\bf heartbeat\_\-record\_\-t} volatile $\ast$ {\em record}, \/  int {\em n})}}
\label{heartbeat-shared_8c_d75f7029162a84476c6e7411f59f86f2}


Returns all heartbeat information for the last n heartbeats. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \item[{\em record}]pointer to \hyperlink{structheartbeat__record__t}{heartbeat\_\-record\_\-t} \item[{\em n}]integer \end{description}
\end{Desc}
\hypertarget{heartbeat-shared_8c_566d7911466aa84b09b1cb5c16fd1bb0}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-max\_\-rate@{hb\_\-get\_\-max\_\-rate}}
\index{hb\_\-get\_\-max\_\-rate@{hb\_\-get\_\-max\_\-rate}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-max\_\-rate]{\setlength{\rightskip}{0pt plus 5cm}double hb\_\-get\_\-max\_\-rate ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_566d7911466aa84b09b1cb5c16fd1bb0}


Returns the maximum desired heart rate. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the maximum desired heart rate (double) \end{Desc}
\hypertarget{heartbeat-shared_8c_96fa03d16ef34067e63860cea57b71db}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-min\_\-rate@{hb\_\-get\_\-min\_\-rate}}
\index{hb\_\-get\_\-min\_\-rate@{hb\_\-get\_\-min\_\-rate}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-min\_\-rate]{\setlength{\rightskip}{0pt plus 5cm}double hb\_\-get\_\-min\_\-rate ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_96fa03d16ef34067e63860cea57b71db}


Returns the minimum desired heart rate. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the minimum desired heart rate (double) \end{Desc}
\hypertarget{heartbeat-shared_8c_1e6ea5f3c95dd936082274969dba0ee8}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-window\_\-size@{hb\_\-get\_\-window\_\-size}}
\index{hb\_\-get\_\-window\_\-size@{hb\_\-get\_\-window\_\-size}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-window\_\-size]{\setlength{\rightskip}{0pt plus 5cm}int64\_\-t hb\_\-get\_\-window\_\-size ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_1e6ea5f3c95dd936082274969dba0ee8}


Returns the size of the sliding window used to compute the current heart rate. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the size of the sliding window (int64\_\-t) \end{Desc}
\hypertarget{heartbeat-shared_8c_7afb09ea470be506247e69e874127be3}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!hb\_\-get\_\-windowed\_\-rate@{hb\_\-get\_\-windowed\_\-rate}}
\index{hb\_\-get\_\-windowed\_\-rate@{hb\_\-get\_\-windowed\_\-rate}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[hb\_\-get\_\-windowed\_\-rate]{\setlength{\rightskip}{0pt plus 5cm}double hb\_\-get\_\-windowed\_\-rate ({\bf heartbeat\_\-t} volatile $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_7afb09ea470be506247e69e874127be3}


Returns the heart rate over the last window (as specified to init) heartbeats. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]the heart rate (double) over the last window \end{Desc}
\hypertarget{heartbeat-shared_8c_83cee6dbfb8365b1595ef200f45fe6fc}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!heartbeat@{heartbeat}}
\index{heartbeat@{heartbeat}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[heartbeat]{\setlength{\rightskip}{0pt plus 5cm}int64\_\-t heartbeat ({\bf heartbeat\_\-t} $\ast$ {\em hb}, \/  int {\em tag})}}
\label{heartbeat-shared_8c_83cee6dbfb8365b1595ef200f45fe6fc}


Registers a heartbeat. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \item[{\em tag}]integer \end{description}
\end{Desc}
\hypertarget{heartbeat-shared_8c_472683cf2037492695c74b37944efca9}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!heartbeat\_\-finish@{heartbeat\_\-finish}}
\index{heartbeat\_\-finish@{heartbeat\_\-finish}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[heartbeat\_\-finish]{\setlength{\rightskip}{0pt plus 5cm}void heartbeat\_\-finish ({\bf heartbeat\_\-t} $\ast$ {\em hb})}}
\label{heartbeat-shared_8c_472683cf2037492695c74b37944efca9}


Cleanup function for process that wants to register heartbeats. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \end{description}
\end{Desc}
\hypertarget{heartbeat-shared_8c_b0215f451a25327778cf2469bbf17808}{
\index{heartbeat-shared.c@{heartbeat-shared.c}!heartbeat\_\-init@{heartbeat\_\-init}}
\index{heartbeat\_\-init@{heartbeat\_\-init}!heartbeat-shared.c@{heartbeat-shared.c}}
\subsubsection[heartbeat\_\-init]{\setlength{\rightskip}{0pt plus 5cm}int heartbeat\_\-init ({\bf heartbeat\_\-t} $\ast$ {\em hb}, \/  double {\em min\_\-target}, \/  double {\em max\_\-target}, \/  int64\_\-t {\em window\_\-size}, \/  int64\_\-t {\em buffer\_\-depth}, \/  char $\ast$ {\em log\_\-name})}}
\label{heartbeat-shared_8c_b0215f451a25327778cf2469bbf17808}


Initialization function for process that wants to register heartbeats. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em hb}]pointer to \hyperlink{structheartbeat__t}{heartbeat\_\-t} \item[{\em min\_\-target}]double \item[{\em max\_\-target}]double \item[{\em window\_\-size}]int64\_\-t \item[{\em buffer\_\-depth}]int64\_\-t \item[{\em log\_\-name}]pointer to char \end{description}
\end{Desc}
